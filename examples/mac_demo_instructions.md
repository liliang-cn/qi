# Qiè¯­è¨€macOSæ¼”ç¤ºç¨‹åº | Qi Language macOS Demo

## ğŸš€ å¿«é€Ÿå¼€å§‹ | Quick Start

è¿™ä¸ªæ¼”ç¤ºç¨‹åºå±•ç¤ºäº†Qiè¯­è¨€åœ¨macOSå¹³å°ä¸Šçš„å„ç§åŠŸèƒ½ç‰¹æ€§ã€‚

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚ | System Requirements

- macOS 10.15+ (Catalinaæˆ–æ›´é«˜ç‰ˆæœ¬)
- Rust 1.75+ (ç”¨äºç¼–è¯‘Qiç¼–è¯‘å™¨)
- LLVM 15.0+ (ç”¨äºä»£ç ç”Ÿæˆ)
- Xcode Command Line Tools

### ğŸ”§ å®‰è£…Qiç¼–è¯‘å™¨ | Install Qi Compiler

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/qi-language.git
cd qi-language

# åˆ‡æ¢åˆ°æ­£ç¡®çš„åˆ†æ”¯
git checkout 001-qi-language-compiler

# ç¼–è¯‘Qiç¼–è¯‘å™¨
cargo build --release

# å°†Qiç¼–è¯‘å™¨æ·»åŠ åˆ°PATH
echo 'export PATH=$PWD/target/release:$PATH' >> ~/.zshrc
source ~/.zshrc
```

### ğŸ“ ç¼–è¯‘å’Œè¿è¡Œæ¼”ç¤ºç¨‹åº | Compile and Run Demo

#### æ–¹æ³•1: ä½¿ç”¨å‘½ä»¤è¡Œç¼–è¯‘ | Command Line Compilation

```bash
# ç¼–è¯‘ä¸ºmacOSå¯æ‰§è¡Œæ–‡ä»¶
qi compile --target macos examples/mac_demo.qi --output mac_demo

# è¿è¡Œç¼–è¯‘åçš„ç¨‹åº
./mac_demo
```

#### æ–¹æ³•2: æŒ‡å®šä¼˜åŒ–çº§åˆ« | Specify Optimization Level

```bash
# ä½¿ç”¨æ ‡å‡†ä¼˜åŒ–ç¼–è¯‘
qi compile --target macos -O standard examples/mac_demo.qi --output mac_demo_optimized

# è¿è¡Œä¼˜åŒ–ç‰ˆæœ¬
./mac_demo_optimized
```

#### æ–¹æ³•3: è¯¦ç»†è¾“å‡ºæ¨¡å¼ | Verbose Mode

```bash
# ä½¿ç”¨è¯¦ç»†æ¨¡å¼ç¼–è¯‘ï¼ŒæŸ¥çœ‹ç¼–è¯‘è¿‡ç¨‹
qi compile --target macos --verbose examples/mac_demo.qi
```

## ğŸ¯ æ¼”ç¤ºç¨‹åºåŠŸèƒ½å±•ç¤º | Demo Program Features

### 1. åŸºç¡€åŠŸèƒ½æ¼”ç¤º | Basic Features Demo
- âœ… ä¸­æ–‡å…³é”®å­—å’Œå˜é‡å£°æ˜
- âœ… åŸºç¡€æ•°æ®ç±»å‹ (æ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”ã€å­—ç¬¦ä¸²)
- âœ… æ•°å­¦è¿ç®— (æ–æ³¢é‚£å¥‘ã€é˜¶ä¹˜)
- âœ… æ•°ç»„æ“ä½œ (æ±‚å’Œã€æœ€å¤§å€¼)
- âœ… æ§åˆ¶æµç»“æ„ (å½“å¾ªç¯ã€å¦‚æœåˆ¤æ–­)

### 2. macOSç‰¹å®šåŠŸèƒ½ | macOS-Specific Features
- âœ… è¿›ç¨‹IDè·å–
- âœ… ç³»ç»Ÿæ—¶é—´æˆ³
- âœ… Machç»å¯¹æ—¶é—´ (macOSç‰¹æœ‰)
- âœ… CoreFoundationå­—ç¬¦ä¸²æ“ä½œ
- âœ… æ–‡ä»¶ç³»ç»Ÿæ“ä½œæ¨¡æ‹Ÿ
- âœ… æƒé™æ£€æŸ¥åŠŸèƒ½

### 3. æ€§èƒ½æµ‹è¯• | Performance Tests
- âœ… è®¡ç®—å¯†é›†å‹æ“ä½œæµ‹è¯•
- âœ… å†…å­˜åˆ†é…æ€§èƒ½æµ‹è¯•
- âœ… å‡½æ•°è°ƒç”¨æ€§èƒ½æµ‹è¯•
- âœ… æ‰§è¡Œæ—¶é—´æµ‹é‡

## ğŸ“Š é¢„æœŸè¾“å‡º | Expected Output

```
=== Qiè¯­è¨€macOSæ¼”ç¤ºç¨‹åº ===
Welcome to Qi Language macOS Demo

ğŸ”§ åŸºç¡€åŠŸèƒ½æ¼”ç¤º:
  æ¶ˆæ¯: ä½ å¥½ï¼ŒmacOSä¸–ç•Œï¼
  å¹´ä»½: 2024
  åœ†å‘¨ç‡: 3.14159
  è¿è¡ŒçŠ¶æ€: è¿è¡Œä¸­
  æ–æ³¢é‚£å¥‘(10) = 55
  é˜¶ä¹˜(6) = 720
  æ•°ç»„ [1-10] æ±‚å’Œ: 55
  æ•°ç»„æœ€å¤§å€¼: 10

ğŸ macOSç‰¹å®šåŠŸèƒ½æ¼”ç¤º:
  è¿›ç¨‹ID: 12345
  å½“å‰æ—¶é—´æˆ³: 1703123456
  Machç»å¯¹æ—¶é—´: 876543210987
    CFå­—ç¬¦ä¸²: "Hello from Qi on macOS!"
  CoreFoundationå­—ç¬¦ä¸²åˆ›å»ºæˆåŠŸ
  æ¨¡æ‹Ÿå†™å…¥æ–‡ä»¶: /tmp/qi_demo.txt
  æ–‡ä»¶å†…å®¹: è¿™æ˜¯Qiè¯­è¨€åœ¨macOSä¸Šç”Ÿæˆçš„æ–‡ä»¶
This file was generated by Qi on macOS
  æ¨¡æ‹Ÿåˆ›å»ºç›®å½•: /tmp/qi_demo_dir
  æ–‡ä»¶æƒé™æ£€æŸ¥: å¯è®¿é—®

âš¡ æ€§èƒ½æµ‹è¯•:
  è®¡ç®— 100000 æ¬¡å¹³æ–¹å’Œè€—æ—¶: Xms
  ç»“æœ: 333328333350000
  åˆ›å»ºå’Œå¤„ç† 1000 ä¸ªæ•°ç»„è€—æ—¶: Xms
  è®¡ç®— 20 ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—è€—æ—¶: Xms

=== ç¨‹åºæ‰§è¡Œå®Œæˆ ===
```

## ğŸ” è°ƒè¯•å’Œæ•…éšœæ’é™¤ | Debugging and Troubleshooting

### å¸¸è§é—®é¢˜ | Common Issues

#### 1. ç¼–è¯‘é”™è¯¯ | Compilation Errors
```bash
# æ£€æŸ¥è¯­æ³•é”™è¯¯
qi check examples/mac_demo.qi

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
qi compile --target macos --verbose examples/mac_demo.qi
```

#### 2. è¿è¡Œæ—¶é”™è¯¯ | Runtime Errors
```bash
# ä½¿ç”¨è°ƒè¯•æ¨¡å¼ç¼–è¯‘
qi compile --target macos --debug-symbols examples/mac_demo.qi

# è¿è¡Œæ—¶æ£€æŸ¥é”™è¯¯ä¼šæ˜¾ç¤ºè¯¦ç»†çš„ä¸­æ–‡é”™è¯¯æ¶ˆæ¯
```

#### 3. æ€§èƒ½é—®é¢˜ | Performance Issues
```bash
# ä½¿ç”¨æœ€é«˜ä¼˜åŒ–çº§åˆ«
qi compile --target macos -O maximum examples/mac_demo.qi

# æ£€æŸ¥ç¼–è¯‘æ—¶é—´
time qi compile --target macos examples/mac_demo.qi
```

### æ—¥å¿—å’Œåˆ†æ | Logging and Analysis

#### æŸ¥çœ‹ç¼–è¯‘ç»Ÿè®¡ä¿¡æ¯ | View Compilation Statistics
```bash
# æ˜¾ç¤ºè¯¦ç»†çš„ç¼–è¯‘ç»Ÿè®¡
qi compile --target macos --verbose --stats examples/mac_demo.qi
```

#### æ€§èƒ½åˆ†æ | Performance Profiling
```bash
# ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
qi compile --target macos --profile examples/mac_demo.qi
```

## ğŸ¨ è‡ªå®šä¹‰å’Œæ‰©å±• | Customization and Extension

### æ·»åŠ æ–°åŠŸèƒ½ | Add New Features

1. **ä¿®æ”¹ç¨‹åºä»£ç ** | Modify Program Code
   ```qi
   // æ·»åŠ æ–°çš„macOSç‰¹å®šåŠŸèƒ½
   å‡½æ•° æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯() {
       å˜é‡ hostname = è·å–ä¸»æœºå();
       æ‰“å° "ä¸»æœºå: " + hostname;

       å˜é‡ os_version = è·å–macOSç‰ˆæœ¬();
       æ‰“å° "macOSç‰ˆæœ¬: " + os_version;
   }
   ```

2. **æ·»åŠ åˆ°ä¸»å‡½æ•°** | Add to Main Function
   ```qi
   å‡½æ•° ä¸»å‡½æ•°() {
       // ... ç°æœ‰ä»£ç  ...

       // æ·»åŠ æ–°åŠŸèƒ½è°ƒç”¨
       æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯();
   }
   ```

### æ‰©å±•macOSè¿è¡Œæ—¶ | Extend macOS Runtime

åœ¨ `src/targets/macos.rs` ä¸­æ·»åŠ æ–°çš„è¿è¡Œæ—¶å‡½æ•°ï¼š

```rust
// æ·»åŠ æ–°çš„macOSç³»ç»Ÿè°ƒç”¨
extern fn qi_gethostname() -> String {
    // è°ƒç”¨macOSç³»ç»ŸAPIè·å–ä¸»æœºå
}

extern fn qi_get_macos_version() -> String {
    // è°ƒç”¨macOSç³»ç»ŸAPIè·å–ç‰ˆæœ¬ä¿¡æ¯
}
```

## ğŸ“š æ›´å¤šèµ„æº | Additional Resources

- [Qiè¯­è¨€å‚è€ƒæ–‡æ¡£](docs/language_reference.md)
- [macOSå¹³å°ç‰¹å®šæ–‡æ¡£](docs/platforms/macos.md)
- [æ€§èƒ½ä¼˜åŒ–æŒ‡å—](docs/performance.md)
- [APIå‚è€ƒæ–‡æ¡£](docs/api_reference.md)

## ğŸ¤ è´¡çŒ® | Contributing

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªæ¼”ç¤ºç¨‹åºï¼

### å¼€å‘ç¯å¢ƒè®¾ç½® | Development Setup
```bash
# è¿è¡Œæµ‹è¯•
cargo test

# æ£€æŸ¥ä»£ç é£æ ¼
cargo fmt --check
cargo clippy

# è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
cargo bench
```

---

**äº«å—Qiè¯­è¨€åœ¨macOSä¸Šçš„ç¼–ç¨‹ä½“éªŒï¼**
**Enjoy programming with Qi Language on macOS!** ğŸâœ¨