# 加密模块示例

Qi 语言加密标准库使用示例。

## 文件说明

- **加密示例.qi** - 完整的加密功能演示
  - MD5 哈希
  - SHA256 哈希
  - Base64 编码/解码

- **test_md5.qi** - MD5 哈希单元测试
- **test_sha512.qi** - SHA512 哈希单元测试
- **test_hmac.qi** - HMAC-SHA256 消息认证码测试

## 运行示例

```bash
# 完整示例
qi run 加密示例.qi

# 单个功能测试
qi run test_md5.qi
qi run test_sha512.qi
qi run test_hmac.qi
```

## 支持的加密函数

| 函数 | 说明 | 输入 | 输出 |
|------|------|------|------|
| `MD5哈希(文本)` | MD5 哈希计算 | 字符串 | 32字符十六进制 |
| `SHA256哈希(文本)` | SHA-256 哈希 | 字符串 | 64字符十六进制 |
| `SHA512哈希(文本)` | SHA-512 哈希 | 字符串 | 128字符十六进制 |
| `Base64编码(文本)` | Base64 编码 | 字符串 | Base64字符串 |
| `Base64解码(编码文本)` | Base64 解码 | Base64字符串 | 原始字符串 |
| `HMAC_SHA256(消息, 密钥)` | HMAC-SHA256 | 两个字符串 | 64字符十六进制 |

## 示例代码

```qi
包 主程序;

函数 入口() {
    // MD5 哈希
    变量 md5值 = MD5哈希("你好，Qi语言！");
    打印行(md5值);

    // SHA256 哈希
    变量 sha256值 = SHA256哈希("Hello, Qi!");
    打印行(sha256值);

    // Base64 编码
    变量 编码 = Base64编码("测试文本");
    打印行(编码);

    // Base64 解码
    变量 解码 = Base64解码(编码);
    打印行(解码);

    // HMAC 消息认证码
    变量 mac = HMAC_SHA256("重要消息", "secret-key");
    打印行(mac);
}
```

## 注意事项

1. **MD5 安全性**：MD5 已被认为不安全，仅用于非安全场景（如校验和）
2. **密码存储**：不要直接使用哈希存储密码，应使用专门的密码哈希算法
3. **HMAC 密钥**：密钥应妥善保管，不要硬编码在代码中
4. **字符编码**：所有函数使用 UTF-8 编码

## 测试结果

```
✅ MD5哈希: 098f6bcd4621d373cade4e832627b4f6
✅ SHA256哈希: 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824
✅ SHA512哈希: 8398f15e...（128字符）
✅ Base64编码: 5rWL6K+V5paH5pys
✅ Base64解码: 测试文本
✅ HMAC_SHA256: 25fdb4627cacad73263124f694c305dc5986a67abc5acbe97d10227162f99f87
```

## 更多信息

查看完整文档：`docs/标准库-加密模块.md`
