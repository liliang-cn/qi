# Qi 语言示例程序

本目录包含了 Qi 编程语言的各种示例程序，展示了语言的核心特性和用法。

## 示例文件

### hello_world.qi
最简单的 Hello World 程序，演示了：
- 函数定义（`函数`）
- 变量声明（`变量`）
- 字符串字面量
- 返回语句（`返回`）

### 编译和运行

使用 Qi 编译器编译示例：

```bash
# 编译 Hello World 示例
qi examples/hello_world.qi

# 使用详细输出编译
qi --verbose examples/hello_world.qi

# 指定输出文件
qi --output hello.ll examples/hello_world.qi
```

这将生成 LLVM IR 文件（.ll），展示了 Qi 语言如何编译到底层表示。

## 语言特性

Qi 语言支持以下特性：

- **100% 中文关键字**：所有语言关键字都使用中文
- **Unicode 标识符**：可以使用中文、英文或其他 Unicode 字符作为变量名
- **基础数据类型**：整数、浮点数、布尔值、字符串、字符
- **控制流**：如果/否则、当循环、循环、对于循环（基础实现）
- **函数定义**：支持参数和返回值（基础实现）
- **变量声明**：可变变量（变量）和常量（常量）
- **二元运算**：算术运算（加减乘除）、比较运算、逻辑运算

## 基本语法

```qi
// 变量声明
变量 数字 = 42;
常量 PI = 3.14;

// 函数定义
函数 计算和(甲: 整数, 乙: 整数) {
  变量 结果 = 甲 + 乙;
  返回 结果;
}

// 控制流
如果 数字 > 0 {
  返回 "正数";
} 否则 {
  返回 "非正数";
}

// 循环
变量 计数 = 0;
当 计数 < 10 {
  计数 = 计数 + 1;
}

// 二元运算
变量 差值 = 甲 - 乙;
变量 是否相等 = 甲 == 乙;
```

### 示例文件

#### hello_world.qi
最简单的 Hello World 程序，演示了：
- 函数定义（`函数`）
- 变量声明（`变量`）
- 字符串字面量
- 返回语句（`返回`）

#### control_flow_demo.qi
控制流示例程序，演示了：
- if/else 条件语句（`如果`/`否则`）
- while 循环（`当`）
- 算术和比较运算
- 函数参数和返回类型

## 语义分析功能

Qi 编译器包含完整的语义分析系统：

### 类型检查
- **静态类型检查**：编译时检测类型错误
- **类型推断**：支持无类型注解的变量自动推断类型
- **类型兼容性**：确保赋值和操作的类型正确性

### 作用域管理
- **词法作用域**：支持函数级别的变量作用域
- **变量遮蔽**：内层作用域可以遮蔽外层作用域的同名变量
- **全局变量**：支持全局变量和局部变量

### 错误检测
- **未定义变量**：使用前未声明的变量会报错
- **变量重定义**：同一作用域内不能重复定义变量
- **类型不匹配**：赋值和函数调用时的类型检查
- **常量保护**：防止修改常量（实现中）

### 示例错误检测

```qi
// 错误：使用未定义的变量
变量 a = x; // 错误：未定义的变量: x

// 错误：类型不匹配
变量 a: 整数 = "hello"; // 错误：类型不匹配

// 正确：类型推断
变量 a = 42; // 自动推断为整数类型

// 正确：函数参数作用域
函数 测试(参数: 整数) {
  返回 参数; // 参数在函数作用域内有效
}
```

**注意**：当前实现还在开发中，某些复杂功能（如多参数函数、类类型等）可能需要进一步优化。

## 贡献示例

欢迎提交更多示例程序来展示 Qi 语言的特性！请确保：

1. 代码使用中文关键字
2. 包含适当的注释
3. 遵循 Qi 语言的编码规范
4. 在本 README 中添加示例说明