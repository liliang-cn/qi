# Qi 语言示例程序

本目录包含 Qi 编程语言的示例程序，展示了语言的核心特性和中文关键字的使用。

## 示例列表

### 1. 你好世界.qi
**描述**：最简单的 Qi 程序，展示基本的程序结构和打印功能。

**特性**：
- 包声明
- 导入模块
- 主程序入口
- 变量声明
- 打印输出

**运行**：
```bash
qi run 你好世界.qi
```

### 2. 基础语法示例.qi
**描述**：全面展示 Qi 语言的基础语法特性。

**特性**：
- 函数定义和调用
- 变量声明（可变和不可变）
- 条件判断（如果-否则）
- 循环语句（当循环）
- 递归函数
- 数组操作
- 字符串拼接
- 算术运算

**运行**：
```bash
qi run 基础语法示例.qi
```

**预期输出**：
```
=== Qi 语言基础语法示例 ===

1. 变量声明和基本运算:
  10 + 20 = 30

2. 条件判断:
  42 是偶数

3. 循环和递归:
  1 到 5 的累加和: 15
  5 的阶乘: 120

4. 数组操作:
数组[0] = 1
数组[1] = 2
数组[2] = 3
数组[3] = 4
数组[4] = 5

5. 字符串操作:
  你好, Qi!

=== 示例运行完成 ===
```

### 3. 异步并发示例.qi
**描述**：展示 Qi 语言的异步编程和 M:N 协程调度特性。

**特性**：
- 异步函数（异步 关键字）
- 等待异步操作（等待 关键字）
- 启动协程（启动 关键字）
- 非阻塞 I/O
- M:N 协程调度
- 并发任务执行

**运行**：
```bash
qi run 异步并发示例.qi
```

**核心概念**：
- **任务 (Task)**：轻量级的协程，类似于 Go 的 Goroutine
- **启动**：创建新的协程任务并在后台执行
- **异步/等待**：非阻塞的异步操作
- **M:N 调度**：M 个任务在 N 个系统线程上执行

### 4. 结构体和枚举.qi
**描述**：展示 Qi 语言的自定义数据类型定义和模式匹配。

**特性**：
- 结构体定义
- 嵌套结构体
- 枚举类型
- 泛型枚举（Result<T, E>）
- 模式匹配（匹配 关键字）
- 数据封装
- 错误处理

**运行**：
```bash
qi run 结构体和枚举.qi
```

**数据结构**：
- `用户`：基本用户信息
- `地址`：联系地址信息
- `完整用户信息`：组合结构体
- `结果<T, E>`：类似 Rust 的 Result 类型
- `用户状态`：枚举类型
- `错误类型`：错误分类枚举

## 编译和运行

### 使用 Qi 编译器

```bash
# 编译为可执行文件
qi compile 示例文件.qi -o 输出文件

# 直接运行（解释执行或 JIT）
qi run 示例文件.qi

# 检查语法
qi check 示例文件.qi

# 查看生成的 LLVM IR
qi compile 示例文件.qi --emit-llvm -o 输出.ll
```

### 编译选项

```bash
# 优化编译
qi compile 示例文件.qi -O3 -o 输出文件

# 调试模式
qi compile 示例文件.qi --debug -o 输出文件

# 指定目标平台
qi compile 示例文件.qi --target x86_64-linux -o 输出文件
qi compile 示例文件.qi --target wasm32-wasi -o 输出.wasm
```

## 语言特性总结

### 1. 100% 中文关键字
所有语言关键字都使用中文，无任何英文保留字：
- 控制流：如果、否则、当、对于、循环、匹配
- 函数：函数、返回、异步、等待
- 数据：变量、不可变、结构体、枚举
- 并发：启动、任务、并发、并行

### 2. 现代类型系统
- 基础类型：整数、浮点数、字符串、布尔
- 复合类型：数组、列表、字典、集合
- 自定义类型：结构体、枚举、联合体
- 泛型支持：函数泛型、结构体泛型

### 3. 内存安全
- 所有权系统（借鉴 Rust）
- 借用检查
- 生命周期管理
- 无需手动内存管理

### 4. 并发模型
- M:N 协程调度（类似 Go 的 Goroutine）
- 异步/等待语法
- 无数据竞争保证
- 轻量级任务切换

### 5. 错误处理
- Result<T, E> 类型
- Option<T> 类型
- 模式匹配
- 显式错误传播

## 学习路径

1. **入门**：从 `你好世界.qi` 开始，了解基本程序结构
2. **基础语法**：学习 `基础语法示例.qi`，掌握核心语法
3. **数据结构**：通过 `结构体和枚举.qi` 学习类型定义
4. **并发编程**：使用 `异步并发示例.qi` 理解协程和异步

## 更多资源

- [Qi 语言官方文档](https://qi-lang.org/docs)
- [语言设计文档](../../docs/qi-unified-design/README.md)
- [API 参考](https://qi-lang.org/api)
- [社区论坛](https://community.qi-lang.org)

## 贡献

欢迎贡献更多示例！请确保：
1. 使用正确的中文关键字
2. 添加清晰的注释
3. 提供预期输出
4. 更新本 README

## 许可证

MIT License - 详见项目根目录的 LICENSE 文件
