# 异步编程示例

本目录包含 Qi 语言异步编程相关的示例代码。

## 📚 示例文件说明

### 未来类型 (Future Type)

1. **未来类型函数返回值.qi**
   - 演示函数返回 `未来<整数>` 类型
   - 展示返回值自动包装为 Future 对象
   - 适合：理解 Future 类型的基本概念

2. **未来类型变量赋值.qi**
   - 演示 Future 类型的变量声明和赋值
   - 展示函数调用返回的 Future 如何赋值给变量
   - 适合：学习 Future 类型的变量使用

3. **未来类型等待表达式.qi**
   - 演示 `等待` 关键字的使用
   - 展示如何从 Future 中提取实际值
   - 适合：理解 await 表达式的语义

4. **未来类型静态方法.qi**
   - 演示静态方法 `未来::就绪()` 的使用
   - 展示如何直接创建已完成的 Future
   - 适合：学习静态方法调用语法

5. **未来类型完整示例.qi** ⭐ 推荐
   - 综合演示所有 Future 类型功能
   - 包括：函数返回值、静态方法、等待表达式
   - 适合：全面了解 Future 类型的使用

## 🚀 运行示例

```bash
# 运行任意示例
cargo run --release -- run 示例/基础/异步/未来类型完整示例.qi

# 检查语法
cargo run --release -- check 示例/基础/异步/未来类型函数返回值.qi
```

## 📖 学习路径

建议按以下顺序学习：

1. 先看 **未来类型函数返回值.qi** - 理解基础
2. 再看 **未来类型变量赋值.qi** - 学习变量使用
3. 然后看 **未来类型等待表达式.qi** - 掌握值提取
4. 接着看 **未来类型静态方法.qi** - 了解静态方法
5. 最后看 **未来类型完整示例.qi** - 综合应用

## 💡 关键概念

### 未来类型 (Future)
- 表示一个异步操作的返回值
- 语法：`未来<T>`，例如 `未来<整数>`
- 创建方式：
  - 函数返回：`函数 f() : 未来<整数> { 返回 42; }`
  - 静态方法：`未来::就绪(42)`

### 等待表达式 (Await)
- 从 Future 中提取实际值
- 语法：`变量 结果 = 等待 future;`
- 会阻塞直到 Future 完成

### 自动包装
- 当函数声明返回 `未来<T>` 时
- 函数内的 `返回 value` 会自动转换为 `返回 qi_future_ready(value)`
- 无需手动调用包装函数

## 🔗 相关文档

- 设计文档：`docs/未来类型设计.md`
- 实现总结：`未来类型实现完成总结.md`
- 实现进度：`未来类型实现进度.md`
