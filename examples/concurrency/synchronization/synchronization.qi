包 主程序;

函数 入口() {
    // 测试 WaitGroup 同步机制
    变量 等待组 = 创建等待组();
    变量 计数值 = 0;

    // 增加等待计数
    等待组增加(等待组, 3);

    // 启动多个协程
    启动 工作协程(等待组, 1);
    启动 工作协程(等待组, 2);
    启动 工作协程(等待组, 3);

    // 等待所有协程完成
    等待组等待(等待组);
    打印行("所有协程完成");
}

函数 工作协程(等待组, 标识) {
    打印行("协程", 标识, "开始工作");
    // 模拟工作
    等待组完成(等待组);
    打印行("协程", 标识, "完成工作");
}