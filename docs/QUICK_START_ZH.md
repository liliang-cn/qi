# Qi 编程语言快速入门

欢迎使用 Qi - 一个 100% 中文关键字的现代编程语言！

---

## 什么是 Qi？

Qi 是一个完全使用中文关键字的编程语言，让中文母语者可以用自己最熟悉的语言来编程。

**核心特性**:
- ✅ 100% 中文关键字 - 无需记忆英文单词
- ⚡ 高性能 - 编译到原生机器码
- 🔄 现代并发 - M:N 协程调度（类似 Go）
- 🎯 多平台支持 - Linux, macOS, Windows, WebAssembly
- 🛡️ 内存安全 - 借鉴 Rust 的所有权系统

---

## 5分钟学会 Qi

### 1. Hello World

```qi
包 主程序;

导入 标准库.输入输出;

函数 整数 主程序入口() {
    打印("你好，世界！");
    返回 0;
}
```

**中文关键字说明**:
- `包` = package/module
- `导入` = import/use
- `函数` = function
- `整数` = i32/int
- `打印` = println
- `返回` = return

### 2. 变量和数据类型

```qi
函数 主程序入口() {
    // 可变变量
    变量 年龄 = 25;              // 整数
    变量 身高 = 175.5;           // 浮点数
    变量 姓名 = "张三";           // 字符串
    变量 已成年 = 真;            // 布尔值
    
    // 不可变变量
    不可变 圆周率 = 3.14159;
    
    打印("姓名: {}", 姓名);
    打印("年龄: {}", 年龄);
    
    返回 0;
}
```

**数据类型**:
- `整数` - 整数 (i32)
- `长整数` - 长整数 (i64)
- `浮点数` - 浮点数 (f64)
- `字符串` - 字符串
- `布尔` - 布尔值
- `真` / `假` - true / false

### 3. 控制流

```qi
函数 判断年龄(整数 年龄) {
    // 条件判断
    如果 年龄 < 18 {
        打印("未成年");
    } 否则 如果 年龄 < 65 {
        打印("成年人");
    } 否则 {
        打印("老年人");
    }
}

函数 累加求和(整数 n) {
    变量 总和 = 0;
    变量 i = 1;
    
    // 循环
    当 i <= n {
        总和 = 总和 + i;
        i = i + 1;
    }
    
    返回 总和;
}
```

**控制流关键字**:
- `如果` = if
- `否则` = else
- `当` = while
- `对于` = for
- `匹配` = match
- `循环` = loop
- `中断` = break
- `继续` = continue

### 4. 函数

```qi
// 基础函数
函数 整数 加法(整数 a, 整数 b) {
    返回 a + b;
}

// 递归函数
函数 整数 阶乘(整数 n) {
    如果 n <= 1 {
        返回 1;
    } 否则 {
        返回 n * 阶乘(n - 1);
    }
}

// 使用函数
函数 主程序入口() {
    变量 和 = 加法(5, 3);
    打印("5 + 3 = {}", 和);
    
    变量 结果 = 阶乘(5);
    打印("5! = {}", 结果);
    
    返回 0;
}
```

### 5. 结构体

```qi
// 定义结构体
结构体 用户 {
    整数 ID;
    字符串 姓名;
    整数 年龄;
    字符串 邮箱;
}

// 使用结构体
函数 主程序入口() {
    // 创建结构体实例
    变量 用户1: 用户;
    用户1.ID = 1001;
    用户1.姓名 = "张三";
    用户1.年龄 = 25;
    用户1.邮箱 = "zhangsan@example.com";
    
    // 访问字段
    打印("用户: {}", 用户1.姓名);
    打印("年龄: {}", 用户1.年龄);
    
    返回 0;
}
```

### 6. 枚举和模式匹配

```qi
// 定义枚举
枚举 结果<T, E> {
    成功(T),
    失败(E)
}

// 使用模式匹配
函数 处理结果(结果<字符串, 整数> 结果值) {
    匹配 结果值 {
        结果::成功(数据) => {
            打印("成功: {}", 数据);
        }
        结果::失败(错误码) => {
            打印("失败，错误码: {}", 错误码);
        }
    }
}
```

### 7. 异步并发 (协程)

```qi
// 异步函数
异步 函数 字符串 获取数据(整数 任务ID) {
    打印("任务 {} 开始", 任务ID);
    
    // 异步等待（非阻塞）
    等待 时间.异步休眠(500);
    
    返回 "数据-" + 任务ID.转字符串();
}

// 启动协程
函数 主程序入口() {
    // 启动多个协程，它们会并发执行
    启动 异步 {
        变量 数据1 = 等待 获取数据(1);
        打印("收到: {}", 数据1);
    };
    
    启动 异步 {
        变量 数据2 = 等待 获取数据(2);
        打印("收到: {}", 数据2);
    };
    
    // 等待所有任务完成
    时间.休眠(2000);
    
    返回 0;
}
```

**并发关键字**:
- `异步` = async
- `等待` = await
- `启动` = spawn (创建协程)
- `任务` = task
- `线程` = thread

---

## 中文关键字速查表

### 基本关键字

| 中文     | 英文      | 用途         |
| -------- | --------- | ------------ |
| 包       | mod       | 模块声明     |
| 导入     | use       | 导入模块     |
| 公开     | pub       | 公开可见     |
| 私有     | (默认)    | 私有可见     |
| 常量     | const     | 常量定义     |
| 静态     | static    | 静态变量     |

### 变量和类型

| 中文     | 英文      | 用途         |
| -------- | --------- | ------------ |
| 变量     | let mut   | 可变变量     |
| 不可变   | let       | 不可变变量   |
| 类型     | type      | 类型别名     |
| 结构体   | struct    | 结构体定义   |
| 枚举     | enum      | 枚举定义     |
| 特性     | trait     | 接口定义     |
| 实现     | impl      | 实现方法     |

### 控制流

| 中文     | 英文      | 用途         |
| -------- | --------- | ------------ |
| 如果     | if        | 条件分支     |
| 否则     | else      | 否则分支     |
| 匹配     | match     | 模式匹配     |
| 当       | while     | 条件循环     |
| 对于     | for       | 迭代循环     |
| 循环     | loop      | 无限循环     |
| 中断     | break     | 跳出循环     |
| 继续     | continue  | 继续循环     |
| 返回     | return    | 函数返回     |

### 函数

| 中文     | 英文      | 用途         |
| -------- | --------- | ------------ |
| 函数     | fn        | 函数定义     |
| 异步     | async     | 异步函数     |
| 等待     | await     | 等待异步     |
| 闭包     | closure   | 匿名函数     |

### 并发

| 中文     | 英文      | 用途         |
| -------- | --------- | ------------ |
| 启动     | spawn     | 启动协程     |
| 任务     | task      | 协程任务     |
| 线程     | thread    | 系统线程     |
| 锁       | mutex     | 互斥锁       |
| 原子     | atomic    | 原子操作     |

### 数据类型

| 中文     | 英文      | 用途         |
| -------- | --------- | ------------ |
| 整数     | i32       | 32位整数     |
| 长整数   | i64       | 64位整数     |
| 浮点数   | f64       | 浮点数       |
| 字符串   | String    | 字符串       |
| 布尔     | bool      | 布尔值       |
| 数组     | array     | 数组         |
| 列表     | Vec       | 动态数组     |
| 字典     | HashMap   | 键值映射     |

### 特殊值

| 中文     | 英文      | 用途         |
| -------- | --------- | ------------ |
| 真       | true      | 布尔真       |
| 假       | false     | 布尔假       |
| 空指针   | null      | 空指针       |
| 空       | ()        | 单元类型     |

---

## 示例程序

完整的示例程序位于 `examples/qi/` 目录：

1. **你好世界.qi** - 最简单的程序
2. **基础语法示例.qi** - 展示核心语法
3. **异步并发示例.qi** - M:N 协程演示
4. **结构体和枚举.qi** - 数据结构定义

运行示例查看脚本：
```bash
cd examples
./run_examples.sh
```

---

## 安装和使用

### 1. 安装编译器

```bash
# 克隆仓库
git clone https://github.com/qi-lang/qi-compiler.git
cd qi-compiler

# 构建编译器
cargo build --release

# 安装到系统（可选）
sudo cp target/release/qi /usr/local/bin/
```

### 2. 编译程序

```bash
# 检查语法
qi check 你的程序.qi

# 编译程序（即将支持）
qi compile 你的程序.qi --output 输出文件

# 直接运行
qi run 你的程序.qi
```

### 3. 查看帮助

```bash
qi --help
qi compile --help
```

---

## 学习路径

### 初学者
1. 阅读本快速入门指南
2. 运行 `你好世界.qi`
3. 学习 `基础语法示例.qi`
4. 练习编写简单程序

### 进阶
1. 学习 `结构体和枚举.qi`
2. 理解所有权和借用
3. 掌握错误处理（Result/Option）
4. 学习泛型

### 高级
1. 学习 `异步并发示例.qi`
2. 理解 M:N 协程调度
3. 掌握高级并发模式
4. 学习底层优化

---

## 更多资源

- 📖 **[完整设计文档](qi-unified-design-zh-cn.md)** - 语言完整规范
- 📚 **[示例程序](../examples/qi/)** - 更多代码示例
- 🔧 **[开发指南](../CLAUDE.md)** - 编译器开发
- 📋 **[实现总结](IMPLEMENTATION_SUMMARY.md)** - 实现状态

---

## 社区和支持

- **官网**: https://qi-lang.org
- **GitHub**: https://github.com/qi-lang/qi-compiler
- **社区**: https://community.qi-lang.org
- **邮箱**: team@qi-lang.org

---

## 常见问题

### Q: Qi 语言现在可以使用吗？
A: Qi 语言目前处于开发阶段（约65%完成）。编译器框架和运行时已经完成，正在完善语义分析和代码生成。示例程序可以查看和学习语法。

### Q: Qi 语言的性能如何？
A: Qi 编译到原生机器码（通过 LLVM），性能接近 C/C++/Rust。异步运行时使用 M:N 协程调度，并发性能类似 Go。

### Q: 为什么要使用中文编程？
A: 
- 降低学习门槛 - 无需记忆英文单词
- 更直观 - 用母语思考和表达
- 更易维护 - 代码可读性更高
- 教育友好 - 适合初学者和教学

### Q: Qi 支持哪些平台？
A: 设计支持 Linux, macOS, Windows, 和 WebAssembly (WASI)。当前主要在 Linux 上开发和测试。

### Q: 如何贡献代码？
A: 欢迎贡献！请查看 GitHub 仓库的贡献指南。可以：
- 提交 bug 报告
- 改进文档
- 添加示例程序
- 实现新特性

---

**祝你学习愉快！欢迎来到 Qi 编程的世界！** 🎉

---

**文档版本**: 1.0  
**最后更新**: 2025-01-23
